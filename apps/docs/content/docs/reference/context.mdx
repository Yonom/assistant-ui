---
title: Context API
---

assistant-ui components and APIs use React Context to store information and interact with the runtime.

The context is split into four hierarchies:

- **Assistant Context**: Wraps your entire app. An app can contain multiple threads.
- **Thread Context**: Provides access to the thread state. A thread can contain multiple messages.
- **Message Context**: Provides access to the message state. A message can contain multiple content parts.
- **Content Part Context**: Provides access to the content part state.

import { ParametersTable } from "@/components/docs";
import {
  AssistantRuntimeState,
  AssistantToolUIsState,
  ThreadState,
  ThreadMessagesState,
  ThreadRuntimeState,
  ComposerState,
  EditComposerState,
  ThreadViewportState,
  ContentPartState,
  MessageState,
  MessageUtilsState,
  ComposerAttachmentState,
  MessageAttachmentState,
} from "@/components/docs/parameters/context";

## Assistant Context

#### `useAssistantRuntime`

```tsx
import { useAssistantRuntime } from "@assistant-ui/react";

const runtime = useAssistantRuntime();
```

<ParametersTable {...AssistantRuntimeState} />

### `useToolUIs`

```tsx
import { useToolUIs } from "@assistant-ui/react";

const toolUIs = useToolUIs();
const getToolUI = useToolUIs((m) => m.getToolUI);
```

<ParametersTable {...AssistantToolUIsState} />

## Thread Context

### `useThreadRuntime`

```tsx
import { useThreadRuntime } from "@assistant-ui/react";

const thread = useThreadRuntime();
```

<ParametersTable {...ThreadRuntimeState} />

### `useThread`

```tsx
import { useThread } from "@assistant-ui/react";

const thread = useThread();
const isRunning = useThread((m) => m.isRunning);
```

<ParametersTable {...ThreadState} />

### `useThreadMessages`

```tsx
import { useThreadMessages } from "@assistant-ui/react";

const messages = useThreadMessages();
const firstMessage = useThreadMessages((m) => m[0]);
```

<ParametersTable {...ThreadMessagesState} />

### `useThreadComposer`

```tsx
import { useThreadComposer } from "@assistant-ui/react";

const composer = useThreadComposer();
const text = useThreadComposer((m) => m.text);
```

<ParametersTable {...ComposerState} />

### `useThreadViewport`

```tsx
import { useThreadViewport } from "@assistant-ui/react";

const threadViewport = useThreadViewport();
const isAtBottom = useThreadViewport((m) => m.isAtBottom);
```

<ParametersTable {...ThreadViewportState} />

## Message Context

### `useMessage`

```tsx
import { useMessage } from "@assistant-ui/react";

const { message } = useMessage();
const message = useMessage((m) => m.message);
```

<ParametersTable {...MessageState} />

### `useMessageUtils`

```tsx
import { useMessageUtils } from "@assistant-ui/react";

const messageUtils = useMessageUtils();
const isCopied = useMessageUtils((m) => m.isCopied);
```

<ParametersTable {...MessageUtilsState} />

### `useEditComposer`

```tsx
import { useEditComposer } from "@assistant-ui/react";

const editComposer = useEditComposer();
const text = useEditComposer((m) => m.text);
```

<ParametersTable {...EditComposerState} />

## Content Part Context

### `useContentPart`

```tsx
import { useContentPart } from "@assistant-ui/react";

const part = useContentPart((m) => m.part);
const part = useContentPart.getState().part;

const status = useContentPart((m) => m.status);
const status = useContentPart.getState().status;
```

<ParametersTable {...ContentPartState} />

## Composer Context

Grabs the nearest composer state (either the edit composer or the thread's new message composer).

### `useComposer`

```tsx
import { useComposer } from "@assistant-ui/react";

const composer = useComposer();
const text = useComposer((m) => m.text);
```

## Attachment Context

Grabs the attachment state (either the composer or message attachment).

### `useAttachment`

```tsx
import { useAttachment } from "@assistant-ui/react";

const { attachment } = useAttachment();
const attachment = useAttachment((m) => m.attachment);
```

#### `useComposerAttachment` (Composer)

```tsx
import { useComposerAttachment } from "@assistant-ui/react";

const { attachment } = useComposerAttachment();
const attachment = useComposerAttachment((m) => m.attachment);
```

<ParametersTable {...ComposerAttachmentState} />

#### `useMessageAttachment` (Message)

```tsx
import { useMessageAttachment } from "@assistant-ui/react";

const { attachment } = useMessageAttachment();
const attachment = useMessageAttachment((m) => m.attachment);
```

<ParametersTable {...MessageAttachmentState} />
